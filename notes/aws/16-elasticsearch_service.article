Amazon Elasticsearch Service
|| Last update: 11 Feb 2019

* Intro

It allows external (internet access and internal).
If you want it internal you need to define security groups and subnets.
Enables you to deploy your instances across three Availability Zones (AZs).

* Terraform

- [[https://www.terraform.io/docs/providers/aws/r/elasticsearch_domain.html]]

Spinning 1 up takes ~10 minutes.

* Access control

- [[https://aws.amazon.com/blogs/security/how-to-control-access-to-your-amazon-elasticsearch-service-domain/]]
- [[https://www.terraform.io/docs/providers/aws/r/elasticsearch_domain_policy.html]]

    aws_elasticsearch_domain.es: InvalidTypeException: You canâ€™t attach an
    IP-based policy to a domain that has a VPC endpoint. Instead, use a
    security group to control IP-based access.
        status code: 409, request id: da98b8f0-cbd3-11e8-b8d1-015806106f26

If you use a SG don't use the policy.

* Server size

- [[https://aws.amazon.com/elasticsearch-service/pricing/]]

* Re/Sources

- [[https://aws.amazon.com/blogs/security/how-to-control-access-to-your-amazon-elasticsearch-service-domain/]]
- [[https://aws.amazon.com/elasticsearch-service/pricing/]]
